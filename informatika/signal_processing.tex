\subsection{Signal processing}
%%% {{{ uvodny pokec
Či chcete alebo nechcete, signal processing je veľmi dôležitou
súčasťou každodenného života. Okolo nás sa každú sekundu prenesú veľké
množstvá údajov rôzneho typu. A práve tu hrá životne dôležitú hereckú
rolu konverzia analógového a digitálneho signálu. Vysielanie
televízie, rádia, alebo rozprávanie sa modemov, to všetko sú analógové
signály, ktoré treba nejakým spôsobom preniesť do digitálneho sveta. V
rannej dobe boli technológie čisto analógové, ale v dnešnej dobe sa
stretávame s náročným digitálnym spracovaním. Či ide o záznam zvuku
mikrofónom alebo meranie napätia voltmetrom, všade sa vynára tá istá
otázka.
%% }}}

\subsubsection{Je možné digitalizovať analógový signál?}
%% {{{ sampling theorem
Odpoveď je nie. Nie bez ďalších predpokladov. Signál môže byť
ľubovoľný a nech by sme akokoľvek rýchlo zaznamenávali, stále nemusíme
zaznamenávať dostatočne rýchlo. Taktiež nemôžeme zaznamenávať s
nekonečnou presnosťou. Toto sú limitujúce faktory, ktoré prekážajú
záznamu signálu. Zaoberajme sa preto otázkou, či za nejakých
zjednodušených predpokladov je možné rekonštruovať signál iba z
čiastočných údajov. Možno je to prekvapujúce, ale dá sa to. Základ
tejto teórie vypracovali páni Nyquist a Shannon. Sformulujme a dokážme
si preto jednu základnú vetu zo signal processingu.

\begin{veta}
    (Nyquist-Shannon sampling theorem) Nech $f$ je ľubovoľná spojitá
    funkcia z $\LLinf$. Ak $\exists B$ také že $f$ je bandlimited
    frekvenciou $B$, tak $f$ sa dá zrekonštruovať z bodov $f(\frac{k
    \pi}{B}, k\in Z$. \todo{Podla vzorca ...}
\end{veta}

\begin{dokaz}
    Pretože signál je bandlimited, platí
    \begin{equation}
        f(x) = \int_{-\infty}^{\infty} F(\alpha) \exp[ \imag x \alpha]
        \dd\alpha = \int_{-B}^{B} F(\alpha) \exp[ \imag x \alpha]
        \dd\alpha
        \label{eq:nyq_band}
    \end{equation}
    Podľa inverznej transformácie vieme, že $F \in \LLinf$. Taktiež
    pretože $F(x) = 0$ pre $|x| > B$, môžeme tvrdiť $F \in \LL(-B,B)$.
    Preto sa dá písať    
    \begin{equation}
        F(\alpha) = \sum_{k=-\infty}^{\infty} F_k \exp[\frac{\imag \pi
        \alpha k}{B}], |\alpha|<B
        \label{eq:nyq_series}
    \end{equation}
    A podľa vety \todo{} táto suma konverguje k $F$. 
    Samozrejme, mimo intervalu (-B,B) konverguje k \todo{periodic
    extension}.
    Koeficienty $F_k$ vieme jednoznačne určiť podľa vety \todo{}.
    \begin{equation}
        F_k = \frac{1}{2B} \int_{-B}^{B} F(\alpha) \exp[\frac{- \imag
        \pi k \alpha}{B}] d\alpha
        \label{eq:nyq_koef}
    \end{equation}
    Teraz porovnaním \ref{eq:nyq_band} a \ref{eq:nyq_koef} odvodíme        
    \footnote{Veľmi pozorný čitateľ si mohol všimnúť, že
        \ref{eq:nyq_band} je ekvivalencia v $\LL(-B,B)$, ale
        \ref{eq:nyq_koef} je rovnosť. Preto
        opodstatnenosť spájania týchto dvoch rovníc je vážne ohrozená.
        Záchranu ponúka predpoklad spojitosti $f(x)$. Podľa \todo{} je
        \ref{eq:nyq_band} zároveň aj bodovou rovnosťou}
    
    \begin{equation}
        F_k = \frac{1}{2B} f(- \pi k / B)
    \end{equation}
    a dosadením do \ref{eq:nyq_series} s použitím substitúcie $l=-k$ dostaneme
    \begin{equation}
        F(\alpha) = \frac{1}{2B} \sum_{l=-\infty}^{\infty}
            f(\frac{l \pi}{B}) \exp[-\frac{\imag l \pi \alpha}{B}]
        \label{eq:nyq_fa}
    \end{equation}
    Nakoniec, skombinovaním \ref{eq:nyq_fa} a \ref{eq:nyq_band}
    dostávame
    \begin{eqnarray}
        f(x) & = & \int_{-B}^{B} \frac{1}{2B} \left(\sum_{l=-\infty}^{\infty} 
                f(\frac{l \pi}{B}) \exp[-\frac{\imag l \pi \alpha}{B}]
                \right)
                \exp[ \imag x \alpha] \dd\alpha \\
            & = & \frac{1}{2B} \int_{-B}^{B} \sum_{l=-\infty}^{\infty} 
                f(\frac{l \pi}{B}) \exp[-\frac{\imag l \pi \alpha}{B}
                + \imag x \alpha] \dd\alpha
    \end{eqnarray}
\end{dokaz}
\todo{split this}
\begin{dokaz}
    Potrebovali by sme zameniť poradie integrovania a sumácie.
    Označme $S_n(\alpha) = \sum_{l=-n}^{n} f(\frac{l \pi}{B})
    \exp[-\frac{\imag l \pi \alpha}{B}]$.
    Vieme, že $\lim_{n\imply \infty} S_n(\alpha) = 2 B F(\alpha)$.
    Špeciálne dosadením $\alpha=0$ dostávame
     $\lim_{n \imply \infty} S_n(0) = 2 B F(0)$.
     Preto $\exists C: \forall n: |S_n(0)| < C$.
     Lenže $|S_n(\alpha)| \le |S_n(0)|$ a teda $\forall n: C >
     S_n(\alpha)$.
     Zároveň, $\int_{-B}^B |C| d\alpha = 2 B C < \infty$.
     Preto podľa vety 
        \todo{http://en.wikipedia.org/wiki/Dominated\_convergence\_theorem}
     môžeme zameniť poradie integrácie a sumácie.     
    \begin{eqnarray}
       f(x) & = & \frac{1}{2B}  \sum_{l=-\infty}^{\infty} 
                f(\frac{l \pi}{B}) \int_{-B}^{B} 
                \exp[-\frac{\imag l \pi \alpha}{B}
                + \imag x \alpha] \dd\alpha \\
            & = & \frac{1}{2B} \sum_{l=-\infty}^{\infty}
                f(\frac{l \pi}{B}) 2B \frac{\sin(l \pi - B x)}{l \pi -
                B x} \\
            & = & \sum_{l=-\infty}^{\infty}
                f(\frac{l \pi}{B})  \sinc(l \pi - B x)
    \end{eqnarray}
    \todo{def unnormalized sinc}. \\
    \todo{} \\
    \todo{} \\
    \todo{}
\end{dokaz}

\todo{lit}
%http://books.google.com/books?id=3389M5tI41EC&pg=PA258&lpg=PA258&dq=inner+product+of+limit+of+sequence&source=bl&ots=8aH866Lxwz&sig=PtWs9jBeRWnLLU9oVh3y-quMabg&hl=en&ei=nruhSeLGKpHD_gbw7dHfCw&sa=X&oi=book_result&resnum=9&ct=result
%% }}}


\subsubsection{Digitálne filtre}
%% {{{
Digitálne filtre sú dôležitou súčasťou spracovania digitálneho
signálu. Podobne ako analógové filtre, ich úlohou je zo vstupného
signálu vybrať pre nás podstatnú časť, prípadne ju zosilniť alebo inak
modifikovať signál. V tomto dokumente si spomenieme niekoľko 
najzákladnejších filtrov používaných v praxi a súvisiacich s Fourierovou
transformáciou. Budeme ich demonštrovať na spracovaní obrazu, hoci
mnohé z nich sú viac dôležité v spracovaní zvuku/signálu 
\footnote{V elektronickej prílohe je možné nájsť aj demonštráciu 
týchto filtrov pre zvuk, v publikovanej podobe z pochopiteľných
dôvodov nie je
}.
Najskôr si popíšeme filtre pracujúce vo frekvenčnom rozsahu, potom
spomenieme filtre pracujúce na \todo{spatial} dátach a kapitolu
zavŕšime ukázaním súvisu medzi týmito dvoma prístupmi a
dekonvolúciou, ktorá sa snaží invertovať následky nežiadúcich filtrov.
%% }}}

\subsubsection{Ideálny lowpass filter}
Ideálny lowpass filter o limitujúcej frekvencii $f$ môžeme
popísať obrázkom \ref{fig:ideal_lowpass}, kde na $x$-ovej osi je frekvencia
vstupného signálu a na $y$-ovej osi je hodnota výstupného signálu.
\begin{poznamka}
    Väčšina filtrov vo frekvenčnej oblasti sa dá popísať podobným grafom.
    Čitaťeľ ale musí brať ohľad na istú nepresnosť - daný graf
    nešpecifikuje presne filter. Špecifikuje len zmenu amplitúdy.
    Bežné filtre fázu nemenia a preto sa ticho predpokladá $\phi(f)=0$.
\end{poznamka}

\begin{figure}[htp]
    \centering
    \includegraphics{obrazky/informatika/signal_processing/ideal_lowpass}
    \caption{Frekvenčná priepustnosť ideálneho lowpass filtru}
    \label{fig:ideal_lowpass}
\end{figure}









Zovšeobecnením 
\begin{itemize}
    \item co je filter
    \item ukazka low, high, band, band reject
    \item vyhladenie signalu - median, iterovany median, gaussian
    kernel
    \item filtre ako vseobecne kernely, konvolucia
\end{itemize}
